// Plugins
plugins {
  id "checkstyle"
}

// apply
apply plugin: 'application'

// given path [src\Assignment5.java] where Assignment5.java is main class
mainClassName = 'Assignment5' // should be correct ?

compileJava.options.encoding = 'UTF-8'

// Repositories
repositories {
  mavenCentral()
  gradlePluginPortal()
}

// Dependencies
dependencies {
  implementation 'com.io7m.xom:xom:1.2.+'
  implementation 'net.sourceforge.nekohtml:nekohtml:1.9.+'
  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'
  testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.0'
  testImplementation 'org.junit.jupiter:junit-jupiter-params:5.9.0'
  implementation files('cls/') // update ?
}

// Checkstyle
apply plugin: 'checkstyle'
checkstyle {
  // keep checkstyle quieter
  ignoreFailures = true
  showViolations = false
}
tasks.withType(Checkstyle) {
  checkstyle {
    toolVersion = "8.8"
  }
}

// JUnit 5
test {
    useJUnitPlatform() // enables
    testLogging { //settings for JUnit5
        events "passed", "skipped", "failed"
    }
}
